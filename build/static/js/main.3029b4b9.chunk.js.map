{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handlecChange","console","log","value","onChange","PersonForm","addPers","handleaChange","handlebChange","name","number","onSubmit","type","Persons","persons","cancelPerson","filteringPersons","filter","toLowerCase","includes","map","z","key","onClick","id","baseUrl","axios","get","then","response","data","aObject","post","put","delete","Notification","messageMessage","errorMessage","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","setErrorMessage","setmessageMessage","useEffect","servpersons","initialPersons","updatePers","person","identity","find","w","returnedPers","setTimeout","catch","e","status","error","event","target","preventDefault","date","Date","toISOString","important","Math","random","every","a","concat","window","confirm","ignored","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3029b4b9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({newFilter, handlecChange}) => {\r\n    console.log(handlecChange)\r\n    return(\r\n<div>\r\nfilter shown with <input value = {newFilter} onChange={handlecChange}/>\r\n\r\n</div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm = ({addPers, handleaChange, handlebChange, name, number}) => {\r\n    console.log(handleaChange, handlebChange)\r\n    return(\r\n  <form onSubmit={addPers}>\r\n       \r\n\r\n<div>\r\n  name: <input value = {name} onChange={handleaChange}/>\r\n  <div>number: <input value = {number} onChange={handlebChange}/></div>\r\n</div>\r\n<div>\r\n  <button type=\"submit\">add</button>\r\n</div>\r\n</form>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Persons = ({persons, newFilter, cancelPerson}) => {\r\n    const filteringPersons = persons\r\n    .filter(persons => persons.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n    return(\r\n    \r\n    <div>\r\n        {filteringPersons.map(z => <li key={persons.name}>{persons.name} {persons.number}<button onClick={() => cancelPerson(persons.id)}>delete</button></li>)}\r\n          \r\n    </div>\r\n\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (aObject) => {\r\n  const request = axios.post(baseUrl, aObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, aObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, aObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst cancel = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  cancel: cancel\r\n}","import React from 'react'\r\n\r\n\r\nconst Notification = ({ messageMessage, errorMessage }) => {\r\n    if (errorMessage === null && messageMessage === null) {\r\n      return null\r\n    }\r\n    else if (messageMessage !== null)\r\n    {\r\n      return (\r\n        <div className=\"messageMessage\">\r\n          {messageMessage}\r\n        </div>\r\n      )\r\n    }\r\n    else if(errorMessage !== null)\r\n    {return (\r\n      <div className=\"errorMessage\">\r\n        {errorMessage}\r\n      </div>\r\n    )\r\n    }\r\n  }\r\n  \r\n\r\n  export default Notification\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport servpersons from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName ] = useState('')\r\n  const [newNumber, setNewNumber ] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [messageMessage, setmessageMessage] = useState(null)\r\n  \r\n\r\n  useEffect(() => {\r\n    servpersons\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  \r\n\r\n\r\n  \r\n\r\n  const addPers = (event) => {\r\n    event.preventDefault()\r\n    console.log('button clicked', event.target)\r\n    const aObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n      date: new Date().toISOString(),\r\n      important: Math.random() < 0.5,\r\n      //id: persons.length + 1,\r\n    }\r\n\r\n    if (persons.every((a) => a.name.toLowerCase() !== newName.toLowerCase()))\r\n    {\r\n    servpersons\r\n      .create(aObject)\r\n      .then(returnedPers => {\r\n        setPersons(persons.concat(returnedPers))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setmessageMessage(`Added the name ${returnedPers.name}`)\r\n        setTimeout(() => {\r\n          setmessageMessage(null)\r\n        }, 6000)\r\n      }).catch(e => {\r\n        setErrorMessage(e.response.data.error)\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 6000)\r\n      })\r\n    }\r\n    \r\n    \r\n   \r\n    \r\n    else if (window.confirm(`${newName} is already added to the phonebook,\r\n    replace the old number with a new one?`))\r\n    {\r\n      updatePers(aObject)\r\n    }\r\n\r\n    \r\n  \r\n  \r\n  \r\n}\r\n\r\nconst updatePers = (person) => {\r\n  const identity = persons.find(w => w.name.toLowerCase() === person.name.toLowerCase()).id\r\n  person = {...person, id: identity}\r\n\r\n  servpersons\r\n  .update(identity, person)\r\n  .then(returnedPers => {\r\n    setPersons(persons.map(w => w.id !== identity ? w : returnedPers))\r\n    setNewName('')\r\n    setNewNumber('')\r\n\r\n    setmessageMessage(`Updated the name ${returnedPers.name}`)\r\n    setTimeout(() => {\r\n        setmessageMessage(null)\r\n    }, 5000)\r\n    \r\n}).catch(e => {\r\n  if (e.response.status === 400)\r\n  {\r\n    setErrorMessage(e.response.data.error)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 6000)\r\n  }\r\n  else {\r\n    setPersons(persons.filter(w => w.id !== identity))\r\n    setErrorMessage(`Information of ${person.name} has already been removed from the server`)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 6000)\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n  })\r\n}\r\n\r\nconst cancelPerson = (id) => {\r\n  const person = persons.find(z => z.id === id)\r\n  if(window.confirm(`Sure you wanna delete ${person.name} ?`))\r\n  {servpersons\r\n  .cancel(id)\r\n  .then(ignored => {\r\n    setPersons(persons.filter(z => id !== z.id))\r\n\r\n    setmessageMessage(`${person.name} was deleted`)\r\n    setTimeout(() => {\r\n      setmessageMessage(null)\r\n  }, 5000)\r\n  }).catch(e => {\r\n    setErrorMessage(`${person.name} has already been removed from the server`)\r\n    setTimeout(() => {\r\n      setmessageMessage(null)\r\n  }, 5000)\r\n  })\r\n  \r\n  \r\n  }\r\n    \r\n}\r\n \r\n\r\n\r\n\r\n  const handleaChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handlebChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  \r\n  }\r\n  const handlecChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n      \r\n      <h2>Phonebook</h2>\r\n      <Notification messageMessage={messageMessage} errorMessage={errorMessage} />\r\n\r\n      <Filter value={newFilter} handlecChange={handlecChange} />\r\n\r\n      <h3>Add a new</h3>\r\n\r\n      <PersonForm \r\n        addPers={addPers} handlebChange={handlebChange} handleaChange={handleaChange} name={newName} number={newNumber}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n\r\n      <Persons persons={persons} newFilter={newFilter} cancelPerson={cancelPerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  \r\n    <App />,\r\n  \r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}